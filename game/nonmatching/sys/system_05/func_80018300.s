.section .text
glabel func_80018300
  /* 018F00 80018300 27BDFFC8 */     addiu $sp, $sp, -0x38
  /* 018F04 80018304 AFBF001C */        sw $ra, 0x1c($sp)
  /* 018F08 80018308 AFB10018 */        sw $s1, 0x18($sp)
  /* 018F0C 8001830C AFB00014 */        sw $s0, 0x14($sp)
  /* 018F10 80018310 AFA40038 */        sw $a0, 0x38($sp)
  /* 018F14 80018314 8C910074 */        lw $s1, 0x74($a0)
  /* 018F18 80018318 3C078004 */       lui $a3, %hi(gCurrScreenWidth)
  /* 018F1C 8001831C 8CE76678 */        lw $a3, %lo(gCurrScreenWidth)($a3)
  /* 018F20 80018320 86220010 */        lh $v0, 0x10($s1)
  /* 018F24 80018324 86230008 */        lh $v1, 8($s1)
  /* 018F28 80018328 86250012 */        lh $a1, 0x12($s1)
  /* 018F2C 8001832C 8626000A */        lh $a2, 0xa($s1)
  /* 018F30 80018330 3C0F8004 */       lui $t7, %hi(D_8003B938)
  /* 018F34 80018334 8DEFB938 */        lw $t7, %lo(D_8003B938)($t7)
  /* 018F38 80018338 00807025 */        or $t6, $a0, $zero
  /* 018F3C 8001833C 04410002 */      bgez $v0, .L80018348
  /* 018F40 80018340 00400821 */      addu $at, $v0, $zero
  /* 018F44 80018344 24410003 */     addiu $at, $v0, 3
  .L80018348:
  /* 018F48 80018348 00011083 */       sra $v0, $at, 2
  /* 018F4C 8001834C 04610002 */      bgez $v1, .L80018358
  /* 018F50 80018350 00600821 */      addu $at, $v1, $zero
  /* 018F54 80018354 24610003 */     addiu $at, $v1, 3
  .L80018358:
  /* 018F58 80018358 00011883 */       sra $v1, $at, 2
  /* 018F5C 8001835C 00435023 */      subu $t2, $v0, $v1
  /* 018F60 80018360 04A10002 */      bgez $a1, .L8001836C
  /* 018F64 80018364 00A00821 */      addu $at, $a1, $zero
  /* 018F68 80018368 24A10003 */     addiu $at, $a1, 3
  .L8001836C:
  /* 018F6C 8001836C 00012883 */       sra $a1, $at, 2
  /* 018F70 80018370 04C10002 */      bgez $a2, .L8001837C
  /* 018F74 80018374 00C00821 */      addu $at, $a2, $zero
  /* 018F78 80018378 24C10003 */     addiu $at, $a2, 3
  .L8001837C:
  /* 018F7C 8001837C 00013083 */       sra $a2, $at, 2
  /* 018F80 80018380 24010140 */     addiu $at, $zero, 0x140
  /* 018F84 80018384 00E1001A */       div $zero, $a3, $at
  /* 018F88 80018388 00004012 */      mflo $t0
  /* 018F8C 8001838C 00A65823 */      subu $t3, $a1, $a2
  /* 018F90 80018390 00626021 */      addu $t4, $v1, $v0
  /* 018F94 80018394 010F0019 */     multu $t0, $t7
  /* 018F98 80018398 00C56821 */      addu $t5, $a2, $a1
  /* 018F9C 8001839C 3C028004 */       lui $v0, %hi(gCurrScreenHeight)
  /* 018FA0 800183A0 3C188004 */       lui $t8, %hi(D_8003B930)
  /* 018FA4 800183A4 3C198004 */       lui $t9, %hi(D_8003B93C)
  /* 018FA8 800183A8 3C0F8004 */       lui $t7, %hi(D_8003B934)
  /* 018FAC 800183AC 3C108004 */       lui $s0, %hi(gDisplayListHead)
  /* 018FB0 800183B0 00003025 */        or $a2, $zero, $zero
  /* 018FB4 800183B4 02202825 */        or $a1, $s1, $zero
  /* 018FB8 800183B8 00004812 */      mflo $t1
  /* 018FBC 800183BC 0149082A */       slt $at, $t2, $t1
  /* 018FC0 800183C0 10200002 */      beqz $at, .L800183CC
  /* 018FC4 800183C4 00000000 */       nop 
  /* 018FC8 800183C8 01205025 */        or $t2, $t1, $zero
  .L800183CC:
  /* 018FCC 800183CC 8C42667C */        lw $v0, %lo(gCurrScreenHeight)($v0)
  /* 018FD0 800183D0 240100F0 */     addiu $at, $zero, 0xf0
  /* 018FD4 800183D4 8F18B930 */        lw $t8, %lo(D_8003B930)($t8)
  /* 018FD8 800183D8 0041001A */       div $zero, $v0, $at
  /* 018FDC 800183DC 00001812 */      mflo $v1
  /* 018FE0 800183E0 261065B0 */     addiu $s0, $s0, %lo(gDisplayListHead)
  /* 018FE4 800183E4 00000000 */       nop 
  /* 018FE8 800183E8 00780019 */     multu $v1, $t8
  /* 018FEC 800183EC 00002012 */      mflo $a0
  /* 018FF0 800183F0 0164082A */       slt $at, $t3, $a0
  /* 018FF4 800183F4 10200002 */      beqz $at, .L80018400
  /* 018FF8 800183F8 00000000 */       nop 
  /* 018FFC 800183FC 00805825 */        or $t3, $a0, $zero
  .L80018400:
  /* 019000 80018400 8F39B93C */        lw $t9, %lo(D_8003B93C)($t9)
  /* 019004 80018404 01190019 */     multu $t0, $t9
  /* 019008 80018408 00007012 */      mflo $t6
  /* 01900C 8001840C 00EE2023 */      subu $a0, $a3, $t6
  /* 019010 80018410 008C082A */       slt $at, $a0, $t4
  /* 019014 80018414 10200002 */      beqz $at, .L80018420
  /* 019018 80018418 00000000 */       nop 
  /* 01901C 8001841C 00806025 */        or $t4, $a0, $zero
  .L80018420:
  /* 019020 80018420 8DEFB934 */        lw $t7, %lo(D_8003B934)($t7)
  /* 019024 80018424 006F0019 */     multu $v1, $t7
  /* 019028 80018428 0000C012 */      mflo $t8
  /* 01902C 8001842C 00582023 */      subu $a0, $v0, $t8
  /* 019030 80018430 008D082A */       slt $at, $a0, $t5
  /* 019034 80018434 50200003 */      beql $at, $zero, .L80018444
  /* 019038 80018438 02002025 */        or $a0, $s0, $zero
  /* 01903C 8001843C 00806825 */        or $t5, $a0, $zero
  /* 019040 80018440 02002025 */        or $a0, $s0, $zero
  .L80018444:
  /* 019044 80018444 AFAA002C */        sw $t2, 0x2c($sp)
  /* 019048 80018448 AFAB0028 */        sw $t3, 0x28($sp)
  /* 01904C 8001844C AFAC0024 */        sw $t4, 0x24($sp)
  /* 019050 80018450 0C00598F */       jal func_8001663C
  /* 019054 80018454 AFAD0020 */        sw $t5, 0x20($sp)
  /* 019058 80018458 0C0093F5 */       jal spInit
  /* 01905C 8001845C 02002025 */        or $a0, $s0, $zero
  /* 019060 80018460 8FA4002C */        lw $a0, 0x2c($sp)
  /* 019064 80018464 8FA50024 */        lw $a1, 0x24($sp)
  /* 019068 80018468 8FA60028 */        lw $a2, 0x28($sp)
  /* 01906C 8001846C 0C008E25 */       jal spScissor
  /* 019070 80018470 8FA70020 */        lw $a3, 0x20($sp)
  /* 019074 80018474 8E390080 */        lw $t9, 0x80($s1)
  /* 019078 80018478 00002825 */        or $a1, $zero, $zero
  /* 01907C 8001847C 332E0008 */      andi $t6, $t9, 8
  /* 019080 80018480 11C00003 */      beqz $t6, .L80018490
  /* 019084 80018484 00000000 */       nop 
  /* 019088 80018488 10000001 */         b .L80018490
  /* 01908C 8001848C 24050001 */     addiu $a1, $zero, 1
  .L80018490:
  /* 019090 80018490 0C005EE0 */       jal func_80017B80
  /* 019094 80018494 8FA40038 */        lw $a0, 0x38($sp)
  /* 019098 80018498 0C00978C */       jal spFinish
  /* 01909C 8001849C 02002025 */        or $a0, $s0, $zero
  /* 0190A0 800184A0 8E0F0000 */        lw $t7, ($s0) # gDisplayListHead + 0
  /* 0190A4 800184A4 3C0EE300 */       lui $t6, (0xE3000C00 >> 16) # 3808431104
  /* 0190A8 800184A8 35CE0C00 */       ori $t6, $t6, (0xE3000C00 & 0xFFFF) # 3808431104
  /* 0190AC 800184AC 25F8FFF8 */     addiu $t8, $t7, -8
  /* 0190B0 800184B0 AE180000 */        sw $t8, ($s0) # gDisplayListHead + 0
  /* 0190B4 800184B4 27190008 */     addiu $t9, $t8, 8
  /* 0190B8 800184B8 AE190000 */        sw $t9, ($s0) # gDisplayListHead + 0
  /* 0190BC 800184BC 3C0F0008 */       lui $t7, 8
  /* 0190C0 800184C0 AF0F0004 */        sw $t7, 4($t8)
  /* 0190C4 800184C4 AF0E0000 */        sw $t6, ($t8)
  /* 0190C8 800184C8 8FBF001C */        lw $ra, 0x1c($sp)
  /* 0190CC 800184CC 8FB10018 */        lw $s1, 0x18($sp)
  /* 0190D0 800184D0 8FB00014 */        lw $s0, 0x14($sp)
  /* 0190D4 800184D4 03E00008 */        jr $ra
  /* 0190D8 800184D8 27BD0038 */     addiu $sp, $sp, 0x38

  /* 0190DC 800184DC 00000000 */       nop 
